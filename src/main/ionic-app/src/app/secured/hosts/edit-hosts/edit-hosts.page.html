<ion-header>
  <ion-toolbar>
    <ion-title>Host</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{host.id > 0 ? 'Edit Host' : 'Create Host'}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="hostForm" (ngSubmit)="submitAction()">
        <ion-list lines="full">
          <ion-item>
            <ion-label position="stacked">Name</ion-label>
            <ion-input formControlName="name" type="text"></ion-input>
            <ion-note color="danger" *ngIf="isSubmitted && errorControl.name.errors?.required">
              Name is required.
            </ion-note>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Hostname</ion-label>
            <ion-input formControlName="hostName" type="text"></ion-input>
            <ion-note color="danger" *ngIf="isSubmitted && errorControl.hostName.errors?.required">
              Hostname is required.
            </ion-note>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Port</ion-label>
            <ion-input formControlName="port" type="number"></ion-input>
            <ion-note color="danger" *ngIf="isSubmitted && errorControl.port.errors?.pattern">
              Port must numeric value
            </ion-note>
          </ion-item>
          <ion-item>
            <ion-label>Secure HTTP</ion-label>
            <ion-toggle formControlName="secureHttp"></ion-toggle>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Category</ion-label>
            <ion-select formControlName="category" compareWith="compareCategory">
              <ion-select-option *ngFor="let cat of categories">{{cat.name}}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-grid>
              <ion-row>
                <ion-col>
                  <ion-button type="submit" size="default" shape='round' color='primary'>Save</ion-button>
                </ion-col>
                <ion-col>
                  <ion-button role="cancel" type="button" size="default" shape='round' color='primary' (click)="list()">Cancel
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-list>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>